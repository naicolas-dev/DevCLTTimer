<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <!-- ══ Keyboard Key (kbd) ══ -->
    <Style x:Key="KbdBorder" TargetType="Border">
        <Setter Property="Background" Value="{DynamicResource SurfaceBrush}" />
        <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}" />
        <Setter Property="BorderThickness" Value="1,1,1,3" />
        <Setter Property="CornerRadius" Value="4" />
        <Setter Property="Padding" Value="6,2" />
        <Setter Property="Margin" Value="2,0" />
        <Setter Property="SnapsToDevicePixels" Value="True" />
    </Style>

    <Style x:Key="KbdText" TargetType="TextBlock">
        <Setter Property="FontFamily" Value="{StaticResource SansFont}" />
        <Setter Property="FontSize" Value="11" />
        <Setter Property="FontWeight" Value="{StaticResource WeightBold}" />
        <Setter Property="Foreground" Value="{DynamicResource TextSecondaryBrush}" />
        <Setter Property="HorizontalAlignment" Value="Center" />
        <Setter Property="VerticalAlignment" Value="Center" />
    </Style>

    <!-- ══ Modal Overlay ══ -->
    <Style x:Key="SettingsToggleSwitch" TargetType="CheckBox">
        <Setter Property="Focusable" Value="True" />
        <Setter Property="Cursor" Value="Hand" />
        <Setter Property="Width" Value="46" />
        <Setter Property="Height" Value="26" />
        <Setter Property="FocusVisualStyle" Value="{StaticResource AppFocusVisual}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="CheckBox">
                    <Grid Width="{TemplateBinding Width}" Height="{TemplateBinding Height}">
                        <Border x:Name="Track"
                                Background="{DynamicResource BorderBrush}"
                                BorderBrush="{DynamicResource BorderBrush}"
                                BorderThickness="1"
                                CornerRadius="13" />
                        <Ellipse x:Name="Thumb"
                                 Width="20"
                                 Height="20"
                                 Fill="{DynamicResource SurfaceBrush}"
                                 HorizontalAlignment="Left"
                                 Margin="3,0,0,0" />
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsChecked" Value="True">
                            <Setter TargetName="Track" Property="Background" Value="{DynamicResource PrimaryBrush}" />
                            <Setter TargetName="Track" Property="BorderBrush" Value="{DynamicResource PrimaryBrush}" />
                            <Setter TargetName="Thumb" Property="HorizontalAlignment" Value="Right" />
                            <Setter TargetName="Thumb" Property="Margin" Value="0,0,3,0" />
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="Track" Property="Opacity" Value="0.9" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="Track" Property="Background" Value="{DynamicResource DisabledBackgroundBrush}" />
                            <Setter TargetName="Track" Property="BorderBrush" Value="{DynamicResource DisabledBackgroundBrush}" />
                            <Setter TargetName="Thumb" Property="Fill" Value="{DynamicResource DisabledTextBrush}" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="ModalOverlay" TargetType="Border">
        <Setter Property="Background">
            <Setter.Value>
                <SolidColorBrush Color="#2C2B28" Opacity="0.45" />
            </Setter.Value>
        </Setter>
    </Style>

    <!-- ══ Modal Card ══ -->
    <Style x:Key="ModalCard" TargetType="Border">
        <Setter Property="Background" Value="{DynamicResource SurfaceBrush}" />
        <Setter Property="CornerRadius" Value="{StaticResource CardRadius}" />
        <Setter Property="Padding" Value="{StaticResource CardPaddingLarge}" />
        <Setter Property="MaxWidth" Value="400" />
        <Setter Property="VerticalAlignment" Value="Center" />
        <Setter Property="HorizontalAlignment" Value="Center" />
        <Setter Property="Effect">
            <Setter.Value>
                <DropShadowEffect BlurRadius="24" ShadowDepth="4" Opacity="0.18" Color="#2C2B28" />
            </Setter.Value>
        </Setter>
    </Style>

    <!-- ══ History Tab Style (override default blue) ══ -->
    <Style x:Key="HistoryTabItem" TargetType="TabItem">
        <Setter Property="FontFamily" Value="{StaticResource SansFont}" />
        <Setter Property="FontSize" Value="{StaticResource LabelSize}" />
        <Setter Property="FontWeight" Value="{StaticResource WeightMedium}" />
        <Setter Property="Foreground" Value="{DynamicResource TextSecondaryBrush}" />
        <Setter Property="Padding" Value="16,8" />
        <Setter Property="Cursor" Value="Hand" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="TabItem">
                    <Border x:Name="tabBorder"
                            Background="Transparent"
                            Padding="{TemplateBinding Padding}"
                            BorderThickness="0,0,0,2"
                            BorderBrush="Transparent"
                            SnapsToDevicePixels="True">
                        <ContentPresenter ContentSource="Header" HorizontalAlignment="Center" />
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsSelected" Value="True">
                            <Setter TargetName="tabBorder" Property="BorderBrush" Value="{DynamicResource PrimaryBrush}" />
                            <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}" />
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="tabBorder" Property="Background" Value="{DynamicResource SurfaceHoverBrush}" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- ══ History List Item (override default blue selection) ══ -->
    <Style x:Key="HistoryListItem" TargetType="ListBoxItem">
        <Setter Property="FontFamily" Value="{StaticResource SansFont}" />
        <Setter Property="FontSize" Value="{StaticResource BodySize}" />
        <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}" />
        <Setter Property="Padding" Value="12,10" />
        <Setter Property="FocusVisualStyle" Value="{StaticResource AppFocusVisual}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ListBoxItem">
                    <Border x:Name="itemBorder"
                            Background="Transparent"
                            Padding="{TemplateBinding Padding}"
                            CornerRadius="{StaticResource SecondaryButtonRadius}"
                            SnapsToDevicePixels="True">
                        <ContentPresenter />
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="itemBorder" Property="Background" Value="{DynamicResource RowHoverBrush}" />
                        </Trigger>
                        <Trigger Property="IsSelected" Value="True">
                            <Setter TargetName="itemBorder" Property="Background" Value="{DynamicResource SurfaceSelectedBrush}" />
                            <Setter TargetName="itemBorder" Property="BorderBrush" Value="{DynamicResource PrimaryBrush}" />
                            <Setter TargetName="itemBorder" Property="BorderThickness" Value="3,0,0,0" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- ══ Scrollbar Thumb ══ -->
    <Style x:Key="ScrollBarThumb" TargetType="Thumb">
        <Setter Property="OverridesDefaultStyle" Value="True"/>
        <Setter Property="IsTabStop" Value="False"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Thumb">
                    <Border x:Name="thumbBorder"
                            Background="{DynamicResource BorderBrush}"
                            CornerRadius="4"
                            Margin="2"/>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="thumbBorder" Property="Background" Value="{DynamicResource TextSecondaryBrush}"/>
                        </Trigger>
                        <Trigger Property="IsDragging" Value="True">
                            <Setter TargetName="thumbBorder" Property="Background" Value="{DynamicResource PrimaryBrush}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- ══ Scrollbar (vertical only — the one used in HistoryView) ══ -->
    <Style TargetType="ScrollBar">
        <Setter Property="OverridesDefaultStyle" Value="True"/>
        <Setter Property="Width" Value="8"/>
        <Setter Property="MinWidth" Value="8"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ScrollBar">
                    <Grid>
                        <Border Background="{DynamicResource SurfaceBrush}" CornerRadius="4"/>
                        <Track x:Name="PART_Track" IsDirectionReversed="True">
                            <Track.Thumb>
                                <Thumb Style="{StaticResource ScrollBarThumb}"/>
                            </Track.Thumb>
                        </Track>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>
